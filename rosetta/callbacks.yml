version: '1.1'
games:
  projectzomboid:
    callbacks:
      umbrella.Item_OnCreate:
        parameters:
        - name: item
          type: InventoryItem
          notes: The item being created
        notes: Called when the item is first created, before it is placed into its
          container. Generally used to initialise items.
        return: []
      umbrella.Item_OnCooked:
        parameters:
        - name: item
          type: InventoryItem
          notes: The item being cooked
        notes: Called when the item is cooked. Not called if the item has a ReplaceOnCooked
          as the item is destroyed. OnCooked functions *cannot* be inside tables or
          the game will not find them.
        return: []
      umbrella.Item_OnEat:
        parameters:
        - name: item
          type: InventoryItem
          notes: The item being eaten
        - name: character
          type: IsoGameCharacter
          notes: The character eating the item
        - name: amount
          type: number
          notes: The fraction of the item that was eaten.
        notes: Called when a player eats the item. Called on the client eating the
          item only.
        return: []
      umbrella.Item_AcceptItemFunction:
        parameters:
        - name: container
          type: ItemContainer
          notes: The container the item is being added to
        - name: item
          type: InventoryItem
          notes: The item being added to the container
        notes: Called when checking if an item is allowed inside a container with
          this function assigned. The container's OnlyAcceptCategory will be checked
          first if it has one.
        return:
        - type: boolean
          notes: Whether to allow the item in the container
          name: acceptItem
      umbrella.CraftRecipe_OnTest:
        parameters:
        - name: item
          type: InventoryItem
          notes: Item to test.
        notes: Determines whether an item can be used in the recipe.
        return:
        - type: boolean
          notes: Whether to allow the item in the recipe.
          name: test
      umbrella.CraftRecipe_OnStart:
        parameters:
        - name: recipeData
          type: CraftRecipeData
        - name: character
          type: IsoGameCharacter | nil
          notes: Character crafting the recipe. Recipes crafted by a workstation will
            pass nil.
        notes: Called at the start of crafting the recipe. For recipes crafted in
          hand or build recipes, called immediately before finishing the recipe. For
          recipes crafted by crafting stations, called when a character initiates
          the crafting.
        return: []
      umbrella.CraftRecipe_OnUpdate:
        parameters:
        - name: recipeData
          type: CraftRecipeData
        notes: Called every tick while crafting the recipe.
        return: []
      umbrella.CraftRecipe_OnCreate:
        parameters:
        - name: recipeData
          type: CraftRecipeData
        - name: character
          type: IsoGameCharacter | nil
          notes: Character crafting the recipe. Recipes crafted by a workstation wil
            pass nil.
        notes: Called when successfully crafting the recipe.
        return: []
      umbrella.CraftRecipe_OnFailed:
        parameters:
        - name: recipeData
          type: CraftRecipeData
        notes: Called when failing to craft the recipe, either because it was cancelled
          or the conditions are no longer met.
        return: []
      umbrella.Recipe_OnCanPerform:
        deprecated: true
        parameters:
        - name: recipe
          type: Recipe
          notes: The recipe being checked
        - name: character
          type: IsoGameCharacter
          notes: The character the recipe is being checked for
        - name: item
          type: InventoryItem | nil
          notes: The item the player right clicked to see this recipe. Null when checking
            whether to show the recipe in the crafting menu, but will be checked with
            the item set during crafting.
        notes: Called when checking if a character is able to perform the recipe -
          before showing the option to craft it, and every tick during crafting.
        return:
        - type: boolean
          notes: Whether to allow the character to craft the recipe
          name: canPerform
      umbrella.Recipe_OnTest:
        deprecated: true
        parameters:
        - name: item
          type: InventoryItem
          notes: The item being checked
        - name: result
          type: Recipe.Result
          notes: The result of the recipe
        notes: Called when checking if an item is allowed to be used in a recipe.
        return:
        - type: boolean
          notes: Whether to allow the item into the recipe
          name: test
      umbrella.Recipe_OnCreate:
        deprecated: true
        parameters:
        - name: sources
          type: ArrayList<InventoryItem>
          notes: The items used to craft the recipe
        - name: result
          type: InventoryItem
          notes: The item crafted by the recipe. Passed even if RemoveResultItem is
            set
        - name: character
          type: IsoGameCharacter
          notes: The character who crafted the recipe
        - name: item
          type: InventoryItem
          notes: The item used in the crafting action. This is either the item that
            was right clicked to start the crafting, or the first source item if it
            was crafted from the recipe menu.
        - name: isPrimaryHandItem
          type: boolean
          notes: True if item is equipped in the player's primary hand
        - name: isSecondaryHandItem
          type: boolean
          notes: True if item is equipped in the player's secondary hand
        notes: Called after crafting the recipe.
        return: []
      umbrella.Recipe_OnGiveXP:
        deprecated: true
        parameters:
        - name: recipe
          type: Recipe
          notes: The recipe that was crafted
        - name: sources
          type: ArrayList<InventoryItem>
          notes: The items used to craft the recipe
        - name: result
          type: InventoryItem
          notes: The item crafted by the recipe. Passed even if RemoveResultItem is
            set
        - name: character
          type: IsoGameCharacter
          notes: The character who crafted the recipe
        notes: Called after crafting the recipe.
        return: []
      umbrella.Recipe_GetItemTypes:
        deprecated: true
        parameters:
        - name: outItems
          type: ArrayList<Item>
          notes: An empty ArrayList to be filled with items.
        notes: Called by the recipe manager for every recipe source after the lua/server/
          folder loads. The ArrayList should be filled with Item objects to include
          as part of the recipe source.
        return: []
      umbrella.VehiclePart_init:
        context:
          server: true
          client: true
        parameters:
        - name: vehicle
          type: BaseVehicle
          notes: The vehicle the part belongs to
        - name: part
          type: VehiclePart
          notes: The part being initialised
        notes: Called every time the part loads in or is reset.
        return: []
      umbrella.VehiclePart_create:
        context:
          server: true
        parameters:
        - name: vehicle
          type: BaseVehicle
          notes: The vehicle the part belongs to
        - name: part
          type: VehiclePart
          notes: The part being created
        notes: Called when the part is spawned for the first time.
        return: []
      umbrella.VehiclePart_checkEngine:
        parameters:
        - name: vehicle
          type: BaseVehicle
          notes: The vehicle the part belongs to
        - name: part
          type: VehiclePart
          notes: The part being checked
        notes: Called every tick while the engine is running. If any part returns
          false the engine will immediately shut off.
        return:
        - type: boolean
          notes: Whether the engine should be working
          name: working
      umbrella.VehiclePart_checkOperate:
        parameters:
        - name: vehicle
          type: BaseVehicle
          notes: The vehicle the part belongs to
        - name: part
          type: VehiclePart
          notes: The part being checked
        notes: Called every tick while a player is in the driver's seat and able to
          drive. If any part returns false the player will not be able to control
          the vehicle.
        return:
        - type: boolean
          notes: Whether the vehicle is operable
          name: operable
      umbrella.VehiclePart_update:
        parameters:
        - name: vehicle
          type: BaseVehicle
          notes: The vehicle the part belongs to
        - name: part
          type: VehiclePart
          notes: The part being updated
        - name: deltaMinutes
          type: number
          notes: The number of minutes since the last update
        notes: Called regularly to update the part, targeting a rate of every half
          an in-game minute (1.25 seconds on 1 hour days).
        return: []
      umbrella.VehiclePart_use:
        parameters:
        - name: vehicle
          type: BaseVehicle
          notes: The vehicle the part belongs to
        - name: part
          type: VehiclePart
          notes: The part being used
        - name: character
          type: IsoGameCharacter
          notes: The character using the part
        notes: Called when a character interacts with the vehicle while in the part's
          area.
        return: []
      umbrella.VehiclePart_Install_test:
        parameters:
        - name: vehicle
          type: BaseVehicle
          notes: The vehicle the part belongs to
        - name: part
          type: VehiclePart
          notes: The part being tested
        - name: character
          type: IsoGameCharacter
          notes: The character using the part
        notes: Called when testing if the part can be installed.
        return:
        - type: boolean
          notes: Whether the part can be installed
          name: test
      umbrella.VehiclePart_Install_complete:
        context:
          server: true
        parameters:
        - name: vehicle
          type: BaseVehicle
          notes: The vehicle the part belongs to
        - name: part
          type: VehiclePart
          notes: The part that was installed
        notes: Called after the part is successfully installed.
        return: []
      umbrella.VehiclePart_Uninstall_test:
        parameters:
        - name: vehicle
          type: BaseVehicle
          notes: The vehicle the part belongs to
        - name: part
          type: VehiclePart
          notes: The part being tested
        - name: character
          type: IsoGameCharacter
          notes: The character using the part
        notes: Called when testing if the part can be uninstalled.
        return:
        - type: boolean
          notes: Whether the part can be uninstalled
          name: test
      umbrella.VehiclePart_Uninstall_complete:
        context:
          server: true
        parameters:
        - name: vehicle
          type: BaseVehicle
          notes: The vehicle the part belongs to
        - name: part
          type: VehiclePart
          notes: The part that was uninstalled
        - name: item
          type: InventoryItem
          notes: The item that was removed
        notes: Called after the part is successfully uninstalled.
        return: []
      umbrella.ItemContainer_Predicate:
        parameters:
        - name: item
          type: InventoryItem
          notes: The item being tested.
        notes: Used by the -Eval methods in ItemContainer. These methods will only
          consider items that this function returns true for.
        return:
        - type: boolean
          notes: Whether the item is a valid match.
          name: allowItem
      umbrella.ItemContainer_Comparator:
        parameters:
        - name: a
          type: InventoryItem
          notes: The first item being tested.
        - name: b
          type: InventoryItem
          notes: The second item being tested.
        notes: Used by the getBest methods in ItemContainer. These methods will sort
          all matches using this function, and return the item in first place.
        return:
        - type: number
          notes: This should be positive if a should be prioritised over b, and negative
            if b should be prioritised.
